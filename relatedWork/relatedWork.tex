\chapter{Related work}

Resolving bottlenecks using profilers has been applied for many years: \cite{pesterev2010locating, gorelick2014high, fan2013performance}.
By default, Python ships three profilers:

\begin{enumerate}
	\item cProfile is a C extension that has reasonable overhead. It is the current recommended profiler. It provides the same interface as the ``profiler'' profiler.
	\item profiler is a profiler written in pure Python. It adds a lot of overhead and its usage is discouraged. However, because it's written in Python, it does allow for easier extension than it's C counterpart cProfile.
	\item hotshot was an experimental C module which is now deprecated as its no longer maintained. While it's still present, the module may be dropped in a future version of Python.
\end{enumerate}

Alternatively, profilers have been developed by the open-source community.
Yappi is a profiler written in the C language that is thread-aware, allowing automatic profiling of multi-threaded applications [CITE].
It provides options to measure CPU or wall time, sort the output by various parameters and support the callgrind and pstat output formats.

Savrun-Yeni{\c{c}}eri et al. introduced an event-based profiler that performs better than the Python standard profilers which requires modest implementation effort \cite{savrun2015efficient}.
Their profiler helps users find bottlenecks in programs, aids language implementers to improve the performance of their language implementation and allows the comparison and evaluation of different languages using cross-language benchmarks.\\

To gain performance, many attempts have been made to alter Python or remove the GIL to fully benefit from multiple CPU's.
To date, no one has ever succeeded in removing the GIL and meet the (hard) requirements for replacement \cite{python2015global}.

On of the most well-known alternative implementations of Python is PyPy.
It makes use of a tracing Just-in-Time compiler to produce optimized code \cite{bolz2009tracing}.
By doing so, PyPy offers increased speed, reduced memory usage and support for stackless mode while providing a highly compatibility with existing python code \cite{pypy2016pypy}.
PyPy's geometric average is 7.6 times faster than CPython (normal Python) \cite{pypy2016speed}.
While it has many popular libraries ported to be used with Pypy, it still lacks some common used packages.
Moreover, most of these libraries are not available on the official packaging repositories of Ubuntu and/or Debian.

Two other popular implementations are JPython and IronPython.
Both of these projects have removed the GIL and can fully exploit multiprocessor systems \cite{python2015global}.

JPython is a Python interpreter implemented in Java. It can be integrated in Java applications and allows python applications to be compiled into Java classes.
Using JPython, Python after compiled to java bytecode will run in the Jython virtual machine, giving full access to all Java APIs and classes \cite{jython2016why}.

IronPython does basically the same as JPython, compiling the source to in-memory bytecode and runs it on the Dynamic Language Runtime \cite{ironpython2014}.
It allows developers to run Python using the .NET framework.

To illustrate the attempts to remove the GIL are still on going, Larry Hastings presented ``The Gilectomy'' at PyCon 2016. He showed that removing the GIL is fairly easy, but has a huge negative impact on CPython's performance.
Additionally, he explained the reason why this performance loss was observed and names some methods that may make ``The Gilectomy'' a viable alternative to CPython.\\

Libraries and frameworks that introduce asynchrony are also available in large numbers.
Decorated Concurrency (DECO) uses the multiprocessing package of Python to parallelize functions using a ``concurrent'' decorator \cite{sherman2016deco}.
Similarly, the ``synchronized''  inserts synchronization events to automatically refactors assignments of the results of ``concurrent'' function calls to happen during synchronization events.

Twisted is an event-driven networking engine written in Python.
It allows for event-driven and asynchronous programming using deferreds.
Twisted has a custom event-loop called the reactor, on which tasks can be scheduled.
This reactor handles callbacks/errbacks fired by deferreds and contains many utility functions and classes to perform asynchronous and non-blocking calls.
Unlike many libraries and frameworks available, Twisted is available on the official repositories of Ubuntu and Debian and is a well tested, mature framework.

\todo{Describe asynchronous related work}
\todo{Describe Bottle neck search/find related work}
\todo{Describe connectable related work as in connectability in challenging peer to peer networks}
\todo{Describe refactoring processes and how to properly write code and test?}
