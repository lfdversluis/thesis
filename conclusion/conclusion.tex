\chapter{Conclusion and future work}
\label{cpt:conclusion_and_future_work}

This thesis aims to contribute to the goal of re-decentralisation of systems such as Tribler, in particular with a focus on providing a YouTube-like performance.
We have addressed Tribler's blocking database I/O, its main performance bottleneck, by integrating the Storm database framework into a new database manager: \enquote{StormDBManager}.
StormDBManager features a complete asynchronous, non-blocking interface for database access while still maintaining a serialized query execution strategy.
Additionally we have created a regression test system and prepared it to be integrated in our Jenkins continuous integration system to adopt software performance engineering in the development cycle, further maturing the project.
We have verified both the regression test system and the resolving of the bottlenecks by providing experimental results.
We believe that with this performance boost and software performance engineering focus, we have contributed to Tribler's further years of research and strengthened Tribler's chances on becoming a decentralized alternative for YouTube-like streaming.

While we believe we made a significant step forward in both performance and software performance engineering, there are items left for future work.
The first item marked as future work is deploying the regression test system on all platforms Tribler supports.
Currently the system is deployed on a Linux build server, yet as different platforms and operating systems may influence the performance of a program, it is useful to run regression tests on all platforms Tribler supports.

A second item for future work is moving Tribler's and Dispersy's queries to an object-relational mapping approach, requiring extensive refactoring of Tribler and Dispersy's code base.
This will remove the \enquote{raw queries} from all code bases which reduces the complexity of the system.
Moreover, as all data will be contain in objects which are generally easier to modify and read from.

Another item is leveraging Jenkins' new pipeline plug-in.
This pipeline plug-in allows to enable/disable specific stages or items of the continuous integration procedure.
This comes in handy when a developer is only interested in experimental results, skipping the eight minute testing stage.
Additionally, additional functionality can be added on a pull request basis where now an update to the continuous integrating procedure will be applied to all pull requests.

A fourth item that could be done in future work is investigating if we can use SQLite's multithreaded support to increase the speed of processing database queries, resulting in an even higher responsiveness of Tribler.
While SQLite developers themselves admit SQLite has minimal multithreaded support, it can still be investigated to what extent we can leverage its support.

Improving the code quality of Dispersy is another item that was mentioned in this thesis.
It was found that passing all tests in Dispersy does provide any grantees beyond a basic level of correctness.
Improving and adding tests is required to increase the stability, maintainability and correctness of Dispersy.

A final item that we would like to highlight as future work is running benchmarks in a closed environment, disconnected from the Internet.
When running Tribler and Dispersy, it will connect to the Internet which may influence performance metrics such as I/O rates and amount of packets obtained.
Creating a closed environment with local peers will ensure that only those peers can communicate to one another.
These peers can then be instrumented to behave in a predetermined manner.
This will increase both the reliability and accuracy of the measurements made.
